const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ghl-payment-element.Dh9Kqtwi.css","./PaymentElementComponent.BtAYlWo5.css","./PaymentElementModal.61EyY1Wb.css"])))=>i.map(i=>d[i]);
import{d as At,y as Ut,r as y,c as Oe,o as Ft,a as w,b as O,u as T,l as et,e as V,h as x,t as X,v as me,m as xe,B as $t,D as Bt,w as Dt,p as Vt,F as qt,i as Ht,E as le,n as Jt,q as Ne,s as Me}from"./D-d7HeIt.js";import{_ as zt}from"./DYa7OZHt.js";import{f as Gt,o as Wt,m as Ce,l as Kt,ad as ve,P as ee,q as tt,w as at,E as rt,ag as Qt,a as Ie,g as be,b as Se,ai as nt,x as Zt}from"./BI0F1cZy.js";import{u as jt,S as I,E as pe}from"./CbM1B6KJ.js";import{t as Yt,f as Xt}from"./VyEV7r3X.js";import{F as st}from"./Cm24sjfI.js";import{h as ea,f as Re,b as ta,g as aa,d as ra,e as na}from"./CbAkAWw1.js";import{p as sa}from"./wwLfBoTf.js";import{u as oa}from"./CtR211JF.js";import{P as N,C as ot,s as Le,S as ye,b as lt,f as Ee,N as it,A as ut}from"./DyCfErH6.js";import{_ as la}from"./D6ICTS4i.js";import"./BfJLDvPa.js";import"./C-id-jPz.js";import"./BWBGeaOT.js";import"./GNPLAF5E.js";import"./DGSUnQqz.js";import"./BfgeZq71.js";import"./tbq0AdDE.js";import"./D-unAiTK.js";import"./DW-3PSLe.js";const ia=Ne(()=>Me(()=>import("./Dxfr1XET.js"),[],import.meta.url).then(m=>m.default||m)),ua=Ne(()=>Me(()=>import("./CS17TI1S.js"),__vite__mapDeps([0,1]),import.meta.url).then(m=>m.default||m)),ca=Ne(()=>Me(()=>import("./DD0mr4jh.js"),__vite__mapDeps([0,2]),import.meta.url).then(m=>m.default||m)),da=["id","href","target","rel","data-animation-class","aria-label"],ma={key:0,style:{"margin-right":"5px"},class:"button-icon-start"},va={class:"main-heading-button"},pa={key:1,style:{"margin-left":"5px"},class:"button-icon-end"},ya={class:"sub-heading-button"},fa={key:1,class:"recaptcha-container button-recaptcha-container"},_a={key:0},ha=["disabled","data-animation-class","id","aria-label"],ga={key:0,class:"button-icon-start"},Pa={class:"main-heading-button"},Ia={key:1,class:"button-icon-end"},ba={class:"sub-heading-button"},Sa={class:"btn-loader-position",style:{left:"50%",position:"absolute",top:"50%",transform:"translate(-50%, -50%)"}},Ea={key:0},wa=["id"],Ta={key:0,class:"card-el-error-msg"},ka={key:3,class:"card-el-error-msg error-message",style:{"justify-content":"center"}},Oa={inheritAttrs:!1},Qa=At({...Oa,__name:"Button",props:{element:{type:Object,required:!0},classStyles:{type:Array,required:!0}},setup(m){var We,Ke,Qe,Ze,je,Ye,Xe;const d=m,a=Gt(),{openPopup:ct}=jt(),Ae=Wt(d.element),{call:dt,createMembershipToken:Ue,mailTo:mt,sms:vt,goToNextFunnelStep:ie,openUrl:we,getNextFunnelStepURL:pt,goToStep:yt}=oa(),ft=Ut(),{$bus:Fe}=ft;let te=(Ke=(We=d.element.extra)==null?void 0:We.text)==null?void 0:Ke.value;te=Ce(te);let ae=(Ze=(Qe=d.element.extra)==null?void 0:Qe.subText)==null?void 0:Ze.value;ae=Ce(ae);const _t=a.value.funnelId,ht=a.value.stepId,gt=a.value.funnelPageId,h=a.value.locationId,z=(Xe=(Ye=(je=d.element.extra)==null?void 0:je.productId)==null?void 0:Ye.value)==null?void 0:Xe.id,f=y(!1),fe=y(!1),Te=y(""),ke=y(""),E=y(),$e=y(!1),_e=y(""),re=y(""),C=y(!1),Pt=Oe(()=>{var e;return((e=E.value)==null?void 0:e.price.type)==="recurring"}),l=y(),R=y(""),ue=y(!1),G=y(),ce=y(""),Be=y(!1),$=y(!0),W=y(),De=Ht(),Ve=y(),Q=y({mode:"payment",amount:0,currency:"",contact:{id:"",full_name:"",email:"",phone:"",shippingAddress:{city:"",state:"",country:"",zipCode:"",line1:""}}}),he=y(),ge=y(),M=y({mode:"payment",amount:0,currency:"usd",enableBNPL:!0,paymentMethodConfiguration:a.value.isLivePaymentMode?De.public.STRIPE_DEFAULT_CONFIGURATION_LIVE:De.public.STRIPE_DEFAULT_CONFIGURATION_TEST}),qe=y(""),Z=y(!1),{action:{value:j},visitWebsite:{value:q}}=d.element.extra,K=Oe(()=>{var e;return((e=a.value.paymentProviderDetails)==null?void 0:e.provider)===N.CUSTOM_PROVIDER&&!!a.value.customProviderPublishableKey&&j===I.SELL_PRODUCT}),It=async e=>{e.type==="ready"?($.value=!1,W.value="",f.value=!1):e.type==="processing"?(C.value=!0,W.value=""):e.type==="error"?(e.message==="Request failed with status code 429"?(G.value=void 0,ue.value=!0):W.value=e.message,C.value=!1,$.value=!1):e.type==="success"?(W.value="",C.value=!1,await bt(e)):e.type==="close"&&(W.value="Payment cancelled",C.value=!1,$.value=!1)},bt=async e=>{try{let t=localStorage.getItem("_ud");t&&(t=JSON.parse(t));const{paymentResponseData:o}=await ea(t,e.data,e.provider,h);await de(o)}catch(t){W.value=t}finally{sessionStorage.removeItem("orderResponse"),sessionStorage.removeItem("contactResponse")}},He=()=>{const e=(te??"")+" "+(ae??"");if(te||ae)return e;if(j===I.GO_TO_URL){const{visitWebsite:{value:t}}=d.element.extra;return t==null?void 0:t.url}return e},St=e=>{if(!e){ce.value="Verification failed! Please try again";return}ce.value="",G.value=e},Je=[I.CLICK_TO_CALL,I.CLICK_TO_SMS,I.GO_TO_URL,I.GO_TO_STEP];Je.includes(j)&&(fe.value=!0,Kt(q==null?void 0:q.url)||(Te.value=Ge())),Ft(()=>{Je.includes(j)&&(fe.value=!0,Te.value=Ge()),a.value.orderFormVersion===2&&z&&j===I.SELL_PRODUCT&&(Et(),he.value=JSON.parse(localStorage.getItem("_ud")||"{}").country)});async function Et(){var e,t,o,i,u,c,s,_,v,g;try{const r=await st.findProductById({productId:z});let P=localStorage.getItem("pmc_id");M.value.paymentMethodConfiguration=P;const L=(e=r==null?void 0:r.price)==null?void 0:e.setupFee,k=(t=r==null?void 0:r.price)==null?void 0:t.trialPeriod,b=(o=r==null?void 0:r.price)==null?void 0:o.amount,S=L?k?L:b+L:k?0:b;r.amount=S,E.value={...r,qty:1,amount:r.amount},re.value=(i=r==null?void 0:r.price)==null?void 0:i.currency,Q.value.amount=E.value.amount,Q.value.currency=re.value,Q.value.mode=((u=E.value)==null?void 0:u.price.type)==="recurring"?"subscription":"payment",Q.value.productDetails=[{productId:(c=r==null?void 0:r.product)==null?void 0:c._id,priceId:(s=r==null?void 0:r.price)==null?void 0:s._id}],M.value.amount=E.value.amount,M.value.currency=re.value.toLowerCase(),((_=E.value)==null?void 0:_.price.type)==="recurring"?M.value.mode="subscription":E.value.amount?M.value.mode="payment":(M.value.mode="setup",M.value.amount=void 0);let n=localStorage.getItem("_ud");n&&(n=JSON.parse(n),Q.value.contact={id:n==null?void 0:n.id,full_name:n==null?void 0:n.full_name,email:n==null?void 0:n.email,phone:n==null?void 0:n.phone,shippingAddress:{city:n==null?void 0:n.city,state:ge.value,country:n==null?void 0:n.country,zipCode:n==null?void 0:n.postal_code,line1:n==null?void 0:n.address1}}),setTimeout(()=>{Be.value=!0},1e3)}catch(r){const P=((g=(v=r==null?void 0:r.response)==null?void 0:v.data)==null?void 0:g.message)||(r==null?void 0:r.message)||"Not able to fetch products!";console.error(P),alert("Not able to fetch products!")}}async function wt(){var t,o,i,u,c,s,_,v,g,r,P,L,k,b,S,n,U,H,se,Pe;const{action:e}=d.element.extra;switch(e.value){case"openPopup":{Yt(a.value.stepId),ct();break}case"url":{const{visitWebsite:p}=d.element.extra;we(p.value);break}case I.SHOW_HIDE_ELEMENT:{const{hideElements:p,showElements:B}=d.element.extra;at(p.value),tt(B.value);break}case I.HIDE_ELEMENT:{const{hideElements:p}=d.element.extra;at(p.value);break}case I.SHOW_ELEMENT:{const{showElements:p}=d.element.extra;tt(p.value);break}case"scroll-to-element":{const{scrollToElement:p}=d.element.extra;Fe.$emit("scroll-to-element",p.value);break}case"go-to-next-funnel-step":{f.value=!0,ie();break}case I.GO_TO_STEP:{f.value=!0,ie(d.element.extra.stepPath.value);break}case"sell-product":{if(f.value)return;f.value=!0;const p=`_pl_${a.value.funnelId}`,B=localStorage.getItem(p);let A;if(B&&(A=JSON.parse(B)),a.value.orderFormVersion===2){const oe=le("provider").value;if(E.value.amount===0){const D=ze();if(!D)return;const J=await Re(h,D);if(J.paymentProvider==="free-checkout"||!a.value.requireCreditCard){const F={altId:a.value.locationId,altType:"location",source:{type:a.value.pageType===ve.FUNNEL?ve.FUNNEL:ve.WEBINAR?ve.WEBINAR:ve.WEBSITE,id:a.value.funnelId,name:a.value.funnelName},products:[{id:E.value._id,qty:1}]},Rt=await ee.getAmountSummary(F),Lt=((t=E.value)==null?void 0:t.price.type)==="recurring",Nt=((o=Rt.recurringSummary)==null?void 0:o.subtotalWithDiscount)>0,Mt=J.paymentProvider==="free-checkout";if(Lt&&Nt||Mt){((u=(i=a.value)==null?void 0:i.paymentProviderDetails)==null?void 0:u.provider)===N.SQUARE&&a.value.squareMerchantGatewayId?Y(Ee):(await ne(),Z.value=!0);return}else await ne(),C.value=!1,await de({});return}}if(E.value.amount>0&&le("provider").value!=="pp"){const D=ze();if(!D)return;if((await Re(h,D)).paymentProvider==="free-checkout"){((s=(c=a.value)==null?void 0:c.paymentProviderDetails)==null?void 0:s.provider)===N.SQUARE&&a.value.squareMerchantGatewayId?Y(Ee):(await ne(),Z.value=!0);return}}if(oe===N.CUSTOM_PROVIDER&&(A!=null&&A.manualPaymentMethodId)){Y(ot,A==null?void 0:A.manualPaymentMethodId);return}if(le("provider").value==="pp"){$e.value=!0,Y(lt);return}else{if((((v=(_=a.value)==null?void 0:_.paymentProviderDetails)==null?void 0:v.provider)===N.AUTHORIZE_NET||((r=(g=a.value)==null?void 0:g.paymentProviderDetails)==null?void 0:r.provider)===N.WHITE_LABEL&&((L=(P=a.value)==null?void 0:P.paymentProviderDetails)==null?void 0:L.whiteLabelProvider)===N.AUTHORIZE_NET)&&a.value.merchantLoginId){Y(ut);return}else if((((b=(k=a.value)==null?void 0:k.paymentProviderDetails)==null?void 0:b.provider)===N.NMI||((n=(S=a.value)==null?void 0:S.paymentProviderDetails)==null?void 0:n.provider)===N.WHITE_LABEL&&((H=(U=a.value)==null?void 0:U.paymentProviderDetails)==null?void 0:H.whiteLabelProvider)===N.NMI)&&a.value.nmiMerchantGatewayId){Y(it);return}else if(((Pe=(se=a.value)==null?void 0:se.paymentProviderDetails)==null?void 0:Pe.provider)===N.SQUARE&&a.value.squareMerchantGatewayId){Y(Ee);return}else if(K.value){await Ct(N.CUSTOM_PROVIDER);return}const D=a.value.stripePublishableKey,J=a.value.stripeAccountId,F=a.value.stripePublishableKey;if(D&&F)_e.value=await sa.loadStripe(D,{stripeAccount:J||void 0});else{alert("Stripe account not found!");return}Tt()}}else kt();break}case"click-to-call":{const p=d.element.extra;dt(p[pe.PHONE_NUMBER].value);break}case"click-to-sms":{const p=d.element.extra;vt(p[pe.PHONE_NUMBER].value);break}case"click-to-mail":{const p=d.element.extra;mt(p[pe.EMAIL_ADDRESS].value);break}case I.GO_TO_MEMBERSHIP:{try{let p;const B=a.value.locationId,{ct:A,previewUrl:oe}=le(`_mf_${B}`).value;location.hostname==="localhost"?p=`http://localhost:4040/library/?domain=${oe}&token=${A}&location_id=${B}`:p=`${oe}/library?&token=${A}&location_id=${B}`,we({url:p,newTab:!1})}catch{alert("Sorry something went wrong.")}break}default:console.error(`Invalid action type received: ${e.value}`)}}const ze=()=>{let e=localStorage.getItem("_ud");e&&(e=JSON.parse(e),sessionStorage.setItem("contactResponse",JSON.stringify(e)));const t=e==null?void 0:e.customer_id;if(!t){R.value="Contact not found!";return}return t};function de(e){var t,o,i,u,c,s,_;try{const v=e==null?void 0:e.membershipPurchase;v!=null&&v.length&&Ue(h,v[0].token);const g=e==null?void 0:e.membershipToken;g&&Ue(h,g),Jt(()=>{Xt("track","Upsell")});const{saleAction:r,stepPath:P,visitWebsite:L}=d.element.extra;if(!r)if(a.value.funnelNextStep){ie();return}else throw new Error("Redirect not handled");if(a.value.orderFormVersion===2){const k=`_pl_${a.value.funnelId}`,b=localStorage.getItem(k);if(b){let S=JSON.parse(b);S.products.push(E.value),S.total+=(o=(t=l.value)==null?void 0:t.order)==null?void 0:o.amount,S.tax=(c=(u=(i=l.value)==null?void 0:i.order)==null?void 0:u.taxSummary)==null?void 0:c.map(n=>{var H;const U=(H=S==null?void 0:S.tax)==null?void 0:H.find(se=>se._id===n._id);return U?{...U,amount:U.amount+n.amount}:n}),rt(k,JSON.stringify(S))}}else{const k=`_pl_v1_${a.value.funnelId}`,b=localStorage.getItem(k);if(b){let S=JSON.parse(b);S.push((_=(s=d==null?void 0:d.element.extra)==null?void 0:s.productId)==null?void 0:_.value),rt(k,JSON.stringify(S))}}switch(r.value){case"url":if(L&&L.value&&L.value.url){we(L.value);break}else throw new Error("Redirect not handled");case"step-path":if(P&&P.value){ie(P.value);break}else throw new Error("Redirect not handled");default:if(a.value.funnelNextStep){ie();break}else throw new Error("Redirect not handled")}}catch(v){{const g=JSON.parse(localStorage.getItem("_ud")||"{}");console.log(v);const r=Le.includes(localStorage.getItem(`pmt_${a.value.funnelId}_${g==null?void 0:g.id}`)||"")?"We are proccessing your order with the bank. We'll confirm you order after bank's confirmation.":`Order successfully placed! 
 However, Something went wrong while displaying this webpage, please contact the seller.`;alert(r)}f.value=!1;return}}const ne=async()=>{var i,u;a.value.countryList.length===0&&await ta();const e=Oe(()=>{var c;return((c=aa(he==null?void 0:he.value))==null?void 0:c.states.map(s=>({iso:s.code,name:s.name})))??[]});let t=localStorage.getItem("_ud");t&&(t=JSON.parse(t),sessionStorage.setItem("contactResponse",JSON.stringify(t)));const o=t==null?void 0:t.customer_id;if(!o){R.value="Contact not found!";return}if(ue.value&&!G.value){ce.value="Invalid Captcha!",C.value=!1,f.value=!1;return}if(ge.value=((i=e.value.find(c=>c.name===(t==null?void 0:t.state)))==null?void 0:i.iso)??"",Q.value.contact.shippingAddress.state=ge.value,l.value=await ra({contactId:o,domain:a.value.domain,pageUrl:a.value.pageUrl,locationId:h,productPreviewList:[{_id:z,qty:1}],store:a.value,subType:Qt.UPSELL,traceId:t==null?void 0:t.traceId,reCaptchaToken:G.value,toZip:t.postal_code,toState:ge.value,toCountry:t.country}),G.value=void 0,(u=l.value)!=null&&u.error){l.value.status===429&&(ue.value=!0),R.value=l.value.message??"Error creating order!",C.value=!1,f.value=!1;return}sessionStorage.setItem("orderResponse",JSON.stringify(l.value))};async function Tt(){var e,t,o,i,u,c,s,_,v,g;try{if(!z)throw new Error("No product Id found for initiating stripe payment");if(R.value="",await ne(),M.value.amount=(t=(e=l.value)==null?void 0:e.order)==null?void 0:t.amount,M.value.currency=re.value.toLowerCase(),M.value.mode=((o=E.value)==null?void 0:o.price.type)==="recurring"?"subscription":"payment",!((u=(i=l.value)==null?void 0:i.order)!=null&&u.amount)&&((c=E.value)==null?void 0:c.price.type)!=="recurring"&&(M.value.mode="setup"),!l.value||(s=l.value)!=null&&s.error)return;let r={};r={altId:h,altType:"location",orderId:l.value.order._id,reCaptchaToken:G.value};const P=JSON.parse(localStorage.getItem("_ud")||"{}");Le.includes(localStorage.getItem(`pmt_${a.value.funnelId}_${P==null?void 0:P.id}`)||"")&&(r.paymentMethodTypes=[ye.sepa]);const L=await Re(h,(_=l.value.order)==null?void 0:_.contactId),k=localStorage.getItem(`pmt_${a.value.funnelId}_${P==null?void 0:P.id}`)||"",b=L.paymentMethod||k;if(!!["klarna","affirm","afterpay_clearpay","amazon_pay","revolut_pay","zip","grabpay","fpx"].includes(b)||((v=l.value.order)==null?void 0:v.amount)===0&&b===ye.bacs){Z.value=!0;return}const n=await ee.initiateStripePayment(r);if(!n.success){R.value=n.message||"We're sorry, but something went wrong. Please try again.";return}const{clientSecret:U,paymentMethodId:H}=n;if(U&&![ye.bacs,ye.cashapp].includes(b)){let F={};if(Le.includes(k)?F=await _e.value.confirmSepaDebitPayment(U,{payment_method:H}):b===ye.becs?F=await _e.value.confirmAuBecsDebitPayment(U,{payment_method:H}):F=await _e.value.confirmCardPayment(U,{payment_method:H,setup_future_usage:"off_session"}),F.error){console.error("Failed to confirm card payment!",F.error),F.error.message&&alert(F.error.message);return}}const{orderId:se,paymentIntentId:Pe,subscriptionId:p,invoiceId:B,subId:A,txnId:oe}=n,D={altId:h,altType:"location",orderId:se,paymentIntentId:Pe,subscriptionId:p,invoiceId:B,isAuth:!1,subId:A,txnId:oe,attribution:{eventData:Ie(),sessionId:be(h),sessionFingerprint:Se(h)}},J=await ee.verifyStripePayment(D);if(!J.success){R.value=J.message||"We're sorry, but something went wrong. Please try again.";return}await de(J)}catch(r){if(((g=r==null?void 0:r.response)==null?void 0:g.status)===429){ue.value=!0,C.value=!1,f.value=!1;return}R.value=nt(r),f.value=!1,console.error(r)}}async function Y(e,t){var o,i,u,c,s;try{if(!z)throw new Error(`No product Id found for initiating ${e||"stripe"} payment`);if(C.value=!0,R.value="",await ne(),!l.value||(o=l.value)!=null&&o.error)return;let _;if((i=l.value)!=null&&i.order._id){_={altId:h,altType:"location",orderId:(u=l.value)==null?void 0:u.order._id,attribution:{eventData:Ie(),sessionId:be(h),sessionFingerprint:Se(h)}};let v;switch(e){case ut:{v=await ee.authorizeNetOrderPayment(_);break}case it:{v=await ee.nmiOrderPayment(_);break}case ot:{t&&(_.manualPaymentMethodId=t),v=await ee.customProviderOrderPayment(_);break}case Ee:{const g=await na(h,(c=l.value.order)==null?void 0:c.contactId);if(!g||g==="false"){qe.value=((s=E.value)==null?void 0:s.price.type)==="recurring"?"subscription":"",Z.value=!0,C.value=!1;return}v=await ee.squareOrderPayment({..._,saveCard:!1});break}case lt:Z.value=!0,C.value=!1;return;default:console.log("Invalid payment provider");break}if(console.error(v),C.value=!1,!v.success){R.value=v.message||"We're sorry, but something went wrong. Please try again.";return}await de({membershipPurchase:v.membershipPurchase,membershipToken:v.membershipToken})}}catch(_){f.value=!1,C.value=!1,console.error(_),R.value=nt(_)}}async function kt(){if(z)try{const e=Zt(),t={...Ie(),fbEventId:e},o=be(h),i=Se(h),u=await st.funnelPayment({fingerprint:le("msgsndr_id").value,productList:[z],locationId:h,funnelId:_t,stepId:ht,pageId:gt,domain:a.value.domain,pageUrl:a.value.pageUrl,source:"payment_button",submissionType:3,eventData:t,sessionId:o,sessionFingerprint:i,_mp:le("_mp").value});await de(u)}catch(e){console.error(e)}finally{f.value=!0}}function Ge(){var t,o,i,u,c;let e="";switch(j){case I.CLICK_TO_CALL:{let s=(t=d.element.extra[pe.PHONE_NUMBER])==null?void 0:t.value;s=s==null?void 0:s.replace("tel:",""),e=`tel:${s}`;break}case I.CLICK_TO_SMS:{let s=(o=d.element.extra[pe.PHONE_NUMBER])==null?void 0:o.value;s=s==null?void 0:s.replace("sms:",""),e=`sms:${s}`;break}case I.GO_TO_URL:{e=q==null?void 0:q.url,e=Ce(e),e&&!e.startsWith("#")&&!/^https?:/.test(e)&&(e=`https://${e}`),ke.value=q!=null&&q.newTab?"_blank":"";break}case I.GO_TO_STEP:{const s=(c=(u=(i=d.element)==null?void 0:i.extra)==null?void 0:u.stepPath)==null?void 0:c.value;e=pt(s,!1);break}}return e}async function Ot(e){if(a.value.videoExistsInPage&&Fe.$emit("handle-redirect"),j===I.GO_TO_STEP){const t=d.element.extra.stepPath.value;yt(e,t)}}function xt(){Z.value=!1,f.value=!1,$.value=!1}async function Ct(e){var o,i,u,c,s;if(!z)throw new Error("No product Id found for initiating stripe payment");if(R.value="",await ne(),!((i=(o=l.value)==null?void 0:o.order)!=null&&i._id&&e===N.CUSTOM_PROVIDER))return;const t={source:"order",sourceId:(c=(u=l==null?void 0:l.value)==null?void 0:u.order)==null?void 0:c._id,sourceDetails:l.value.order,traceId:l.value.traceId,extra:{attribution:{eventData:Ie(),sessionId:be(h),sessionFingerprint:Se(h)}},captchaToken:G.value};(s=Ve.value)==null||s.confirmPayment(t)}return(e,t)=>{const o=ia,i=ua,u=ca;return w(),O(qt,null,[fe.value?(w(),O("a",{key:0,id:`${m.element.id}_btn`,href:Te.value,target:ke.value,rel:ke.value==="_blank"?"noreferrer noopener":void 0,"data-animation-class":T(Ae),class:et([m.classStyles,"text-center"]),onClick:t[0]||(t[0]=c=>Ot(c)),"aria-label":He()},[V("span",{style:me(f.value?"visibility: hidden;":""),class:"main-heading-group"},[m.element.extra.icon!==""?(w(),O("span",ma)):x("",!0),V("span",va,X(T(te)),1),m.element.extra.icon!==""?(w(),O("span",pa)):x("",!0)],4),m.element.extra.subText&&m.element.extra.subText.value?(w(),O("span",{key:0,style:me(f.value?"visibility: hidden;":""),class:"sub-heading-group text-xs font-sans"},[V("span",ya,X(T(ae)),1)],4)):x("",!0)],10,da)):x("",!0),ue.value?(w(),O("section",fa,[xe(o,{onExpired:t[1]||(t[1]=()=>G.value=""),onVerify:St}),ce.value?(w(),O("p",_a,X(ce.value),1)):x("",!0)])):x("",!0),fe.value?x("",!0):(w(),O("button",{key:2,disabled:f.value||T(K)&&$.value,"data-animation-class":T(Ae),id:`${m.element.id}_btn`,style:me(f.value||T(K)&&$.value?"cursor: default;":""),class:et([m.classStyles]),onClick:wt,"aria-label":He()},[V("div",{style:me(f.value||T(K)&&$.value?"visibility: hidden;":""),class:"main-heading-group"},[m.element.extra.icon!==""?(w(),O("div",ga)):x("",!0),V("div",Pa,X(T(te)),1),m.element.extra.icon!==""?(w(),O("div",Ia)):x("",!0)],4),m.element.extra.subText&&m.element.extra.subText.value?(w(),O("div",{key:0,style:me(f.value||T(K)&&$.value?"visibility: hidden;":""),class:"text-xs font-sans"},[V("div",ba,X(T(ae)),1)],4)):x("",!0),$t(V("div",Sa,[xe(la,{loading:f.value||T(K)&&$.value,color:"rgb(255, 255, 255)",size:"30px"},null,8,["loading"])],512),[[Bt,f.value||T(K)&&$.value]])],14,ha)),V("div",null,[Be.value&&T(a).funnelPageId&&T(K)?(w(),O("section",Ea,[V("div",{id:`${m.element.id}-payment-form`,class:"payment-form"},[xe(i,{id:`${m.element.id}-payment-element`,ref_key:"confirmPaymentRef",ref:Ve,customProviderProps:Q.value,onPaymentCallback:It},null,8,["id","customProviderProps"]),W.value?(w(),O("div",Ta,[t[2]||(t[2]=V("img",{src:zt,alt:"alert"},null,-1)),Dt(" "+X(W.value),1)])):x("",!0)],8,wa)])):x("",!0)]),R.value?(w(),O("div",ka,X(R.value),1)):x("",!0),Z.value?(w(),Vt(u,{key:4,extra:d.element.extra,stripeOptions:M.value,order:l.value,traceId:l.value.traceId,element:d.element,styles:m.classStyles,squarePaymentMode:qe.value,showPaypal:$e.value&&re.value,paymentProps:{currency:re.value,mode:T(Pt)?"subscription":"onetime"},onClosePaymentElementModal:xt},null,8,["extra","stripeOptions","order","traceId","element","styles","squarePaymentMode","showPaypal","paymentProps"])):x("",!0)],64)}}});export{Qa as default};
